<!doctype html>
<html>
		<head>
			<meta charset="utf-8">
			<meta http-equiv="X-UA-Compatible" content="IE=edge">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<title>Client</title>
			<!-- Bootstrap -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
      
      <link href="main.css" rel="stylesheet">
    </head>
		<body>
      <div id="login" style="display: none;">
        <div class="container">
          <form class="form-signup">
            <h2 class="form-signup-heading">Please log in</h2>
            <label for="inputEmail" class="sr-only">Email address</label>
            <input type="email" id="inputEmailLogin" class="form-control" placeholder="Email address" required autofocus>
            <label for="inputPassword" class="sr-only">Password</label>
            <input type="password" id="inputPasswordLogin" class="form-control" placeholder="Password" required>
            
            <button id="login-button" class="btn btn-lg btn-primary btn-block" type="submit">Log in</button>
            </div>
          </form>
        </div>
        <div id="signup">
          <div class="container">
            <form class="form-signup">
              <h2 class="form-signup-heading">Please sign up</h2>
              <label for="inputEmail" class="sr-only">Email address</label>
              <input type="email" id="inputEmailSignup" class="form-control" placeholder="Email address" required autofocus>
              <label for="inputPassword" class="sr-only">Password</label>
              <input type="password" id="inputPasswordSignup1" class="form-control" placeholder="Password" required>
              <label for="inputPassword" class="sr-only">Repeat Password</label>
              <input type="password" id="inputPasswordSignup2" class="form-control" placeholder="Password" required>
              <button id="signup-button" class="btn btn-lg btn-primary btn-block" type="submit">Sign up</button>
            </form>
          </div>
        </div>
        <script>
          var mode = "signup";
          var inputEmail    = document.getElementById('inputEmailLogin')
          var inputPassword = document.getElementById('inputPasswordLogin')
          const loginButton = document.getElementById('login-button')
          const signupButton = document.getElementById('signup-button')

          function toggleForm() {
            var login  = document.getElementById("login");
            var signup = document.getElementById("signup");
            var button = document.getElementById("toggle-button");

            if (login.style.display === "none") {
              login.style.display = "block";
              signup.style.display = "none";
              mode = "login";
              button.textContent = "Sign up";
            } else {
              login.style.display = "none";
              signup.style.display = "block";
              mode = "signup";
              button.textContent = "Log in";
            }
          }

          function getEmail() {
            if (mode == 'login') {
              return document.getElementById('inputEmailLogin').value
            } else {
              return document.getElementById('inputEmailSignup').value
            }
          }
          
          function getPassword() {
            if (mode == 'login') {
              return document.getElementById('inputPasswordLogin').value
            } else {
              if (document.getElementById('inputPasswordSignup1').value == document.getElementById('inputPasswordSignup2').value) {
                return document.getElementById('inputPasswordSignup1').value
              }
            }
          }

          loginButton.addEventListener('click', async () => {
            await login()
          })

          signupButton.addEventListener('click', async () => {
            await signup()
          })

        </script>
        <div class="container">
          <button id="toggle-button" onclick="toggleForm()" class="btn btn-lg btn-secondary btn-block" value="ignore">Log in</button>
        </div>
		</body>
	</html>